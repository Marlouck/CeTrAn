{
    "contents" : "require(rfigshare)\n\n#need ExperimentID, group, metadata, Temporaryfolder, authors from previous code\n#authors= c(\"97229\")\n#ExperimentID =\"Colomb_01\"\n\n#cetran account\n#login: thrawny@sourceforge.net\n#pass: buridan\n\noptions(FigshareKey = \"CT6SBJy8WkkGiQjhFdBBxw\")\noptions(FigsharePrivateKey = \"Ytfb4rBWwFv44eXzrzImWQ\")\noptions(FigshareToken = \"KbrzaL7fgOWEdB4RmQ4LQA084gYzMmCpNdKJGxsSTH6QKbrzaL7fgOWEdX4RmQ4LQA\")\noptions(FigsharePrivateToken = \"Uv7jjeyPByTRKXg5BM6rnw\")\n\nid_data = 153938\nid_metadata_trajectory =153939\nid_metadata_experiments =153940\n\n\n#### here is the code for figshare. need to be done: make new articles (if necessary), get the metadata file to write on them and upload the new version, seems the ids are wrong...\n\n\n for(i in c(1:nrow(group))){\n  Namecsv=paste(metadata[metadataname == \"ExperimentID\"],\"-\",99+i,\".csv\", sep=\"\")\n  fs_upload(id_data,Namecsv)\n  }\nfs_upload(id_metadata_trajectory,\"metadata_trajectory.csv\")\nfs_upload(id_metadata_experiments,\"metadata_EXP_trajectory.csv\")    \n\n#### add author to the article\nif (!is.na (authors)){\n  fs_add_authors(id_data, authors)\n  fs_add_authors(id_metadata_trajectory, authors)\n  fs_add_authors(id_metadata_experiments, authors)\n}\n\n\n# code to be written:\n\n# need to read the experiment metadata, check that the new experimentID was never entered before\n#if the ID was entered, ask if new experiment or new data for the experiment\n#1new experiment -> ask for a new ID\n#2new data -> ?? (I have to think about it: add only the new data and metadata, ...)\n# If new ID: change the metadata files and add raw data files\n\nIDME = fs_details(id_metadata_experiments)\nfile = IDME$files[[1]]$download_url\nIDME_dat= read.csv (file, header= T)\nExpID_list=IDME_dat[,1]\nExpID_list\nclass(ExpID_list)\nlength(ExpID_list)\nT=0\nfor (i in c(1,length(ExpID_list))){\n  if (ExperimentID == ExpID_list[i]) T=T+1\n}\n##old code\n### figshare article creation/modification\n# \n#   fs_browse(id_data)\n# article_categories= \"Neuroscience\"\n# \n# id <- fs_new_article(title = \"raw trajectory data\", description = \"format is time (in ms), x position (in mm), y position (in mm), burst (increase while the experiment is stopped and started again with the same animal). Information about the experiment is found in the metadata.\", \n#                      type = \"fileset\", tags = c(\"trajectory\", \"open science\", \"semanticweb\", \"test\"), categories=article_categories ,\n#                      \n#                      visibility= \"draft\", \n#                      links=\"buridan.sourceforge.net\")\n# id_data <- id\n# id <- fs_new_article(title = \"trajectory metadata\", description = \"Data to be found in the data fileset\", \n#                      type = \"dataset\", tags = c(\"trajectory\", \"open science\", \"semanticweb\", \"test\"), categories=article_categories ,\n#                      \n#                      visibility= \"draft\", \n#                      links=\"buridan.sourceforge.net\")\n# \n# id <- fs_new_article(title = \"trajectory experiment metadata\", description = \"Experiment got their metadata: who, when, what was tested\", \n#                      type = \"dataset\", tags = c(\"trajectory\", \"open science\", \"semanticweb\", \"test\"), categories=article_categories ,\n#                      \n#                      visibility= \"draft\", \n#                      links=\"buridan.sourceforge.net\")",
    "created" : 1362140216233.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3751543358",
    "id" : "655A7BD6",
    "lastKnownWriteTime" : 1362144414,
    "path" : "D:/dokumente/GitHub/CeTrAn/CeTrAn/other_codes/figshareexport/only_figshare_code.r",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}